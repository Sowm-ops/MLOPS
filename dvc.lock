schema: '2.0'
stages:
  prepare_data:
    cmd: python src/data_prep.py
    deps:
    - path: IMDB Dataset.csv
      hash: md5
      md5: 308443a50e5c993e7b8a1cdb95750026
      size: 66212309
    - path: heart.csv
      hash: md5
      md5: f1800e98a8507551de5873226be1682b
      size: 11325
    - path: params.yaml
      hash: md5
      md5: 0015d878e0088089962e75148dca7617
      size: 833
    - path: src/data_prep.py
      hash: md5
      md5: 065fca170c7407147483bcab4bfce45b
      size: 5278
    outs:
    - path: data/heart_test.csv
      hash: md5
      md5: b0ad34418e7fbaa526474836c5cfac35
      size: 15861
    - path: data/heart_train.csv
      hash: md5
      md5: 7415a3638c7b25f9a9fba5fd60cccbaf
      size: 62637
    - path: data/imdb_test.csv
      hash: md5
      md5: c19b359013154bf250c23d306170498f
      size: 77875998
    - path: data/imdb_train.csv
      hash: md5
      md5: ddb62a1a41522965bb06a96ef3a7f285
      size: 311815290
  train_model:
    cmd: python src/train.py
    deps:
    - path: data/heart_test.csv
      hash: md5
      md5: b0ad34418e7fbaa526474836c5cfac35
      size: 15861
    - path: data/heart_train.csv
      hash: md5
      md5: 7415a3638c7b25f9a9fba5fd60cccbaf
      size: 62637
    - path: data/imdb_test.csv
      hash: md5
      md5: c19b359013154bf250c23d306170498f
      size: 77875998
    - path: data/imdb_train.csv
      hash: md5
      md5: ddb62a1a41522965bb06a96ef3a7f285
      size: 311815290
    - path: params.yaml
      hash: md5
      md5: 0015d878e0088089962e75148dca7617
      size: 833
    - path: src/train.py
      hash: md5
      md5: e43c195276df4f63bcbb2bff683a9581
      size: 5684
    params:
      params.yaml:
        data.heart_label_column: target
        data.label_column: sentiment
        models.gbm:
          enabled: true
          params:
            learning_rate:
            - 0.01
            - 0.1
            max_depth:
            - 3
            - 5
            n_estimators:
            - 5
            - 10
        models.linearsvc:
          enabled: true
          params:
            C:
            - 0.1
            - 1
        models.lr:
          enabled: true
          params:
            C:
            - 0.1
            - 1
        models.xgb:
          enabled: true
          params:
            learning_rate:
            - 0.01
            - 0.1
            max_depth:
            - 3
            - 5
            n_estimators:
            - 5
            - 10
        preprocess.text.max_words: 1500
        train.cv_folds: 3
        train.random_state: 42
        train.sample_size: 5000
        train.test_size: 0.2
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 596a91b58ffc520adc87b40efc73c16d
      size: 97
    - path: models/
      hash: md5
      md5: fd4a0e1456c98674005a296ccaa1ee3e.dir
      size: 69067
      nfiles: 2
